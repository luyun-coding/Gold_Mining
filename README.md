# 黄金挖矿游戏 (Gold Mining Game)

一个基于HTML5 Canvas开发的黄金挖矿游戏，具有精美的视觉效果和流畅的游戏体验。

## 🎮 游戏简介

玩家控制一个矿工，通过摆动钩子来抓取地下的各种物品，在限定时间内达到目标分数即可晋级下一关。

## ✨ 核心功能

### 1. 矿工与钩子系统
- **矿工角色**：位于画布顶部的矿工角色
- **钩子摆动**：钩子以钟表频率（0.8Hz）在±75°范围内左右摆动
- **发射机制**：点击屏幕或按空格键发射钩子
- **钩子长度**：初始长度40px，最大发射长度450px

### 2. 物品得分规则

#### 黄金 (Gold)
- **分值范围**: 50-200分
- **计算方式**: 根据黄金大小线性映射
  - 最小尺寸(15px): 50分
  - 最大尺寸(35px): 200分
  - 中间尺寸按比例计算

#### 钻石 (Diamond)
- **固定分值**: 300分
- **时间奖励**: +5秒
- **关卡加成**: 每关增加50分
  - 第1关: 300分
  - 第2关: 350分
  - 第3关: 400分，以此类推

#### 石子 (Stone)
- **分值范围**: 10-20分
- **随机生成**: 每次抓取随机获得10-20分

#### 炸弹 (Bomb)
- **时间惩罚**: -10秒
- **固定惩罚**: 不随关卡变化

### 3. 关卡设计
- **时间限制**：每关60秒倒计时
- **动态难度**：随关卡提升增加目标分数要求
- **胜利条件**：60秒内达到目标分数则晋级下一关
- **失败条件**：时间耗尽游戏结束

#### 关卡目标分数计算
- **第1关**: 500分（固定目标）
- **第2关及以后**: 当前得分 × 难度系数 + 200分
- **难度系数**: 1.3 + (关卡数-1) × 0.05
- **时间重置**: 每关重新获得60秒

#### 物品生成数量规则（随关卡递增）
- **黄金**: 8个起，每关增加1个，最多16个
- **钻石**: 2个起，每2关增加1个，最多5个  
- **石子**: 5个起，每关增加1个，最多12个
- **炸弹**: 2个起，每3关增加1个，最多6个

### 4. 游戏控制
- **开始游戏**：启动游戏
- **暂停/继续**：暂停或继续游戏
- **重新开始**：重置游戏
- **静音开关**：右上角悬浮按钮，控制音效

### 5. 视听觉效果
- **Canvas动画**：流畅的钩子摆动、物品抓取动画
- **主题配色**：轻松欢快的亮色主题
- **视觉反馈**：抓取物品时的得分动画和特效
- **时间警告**：最后10秒边框闪烁和滴嗒音效

## 🎵 音效系统

- **点击音效**：发射钩子时的短促音
- **抓取音效**：不同物品有不同的音色
- **时间警告**：最后10秒紧凑的滴嗒声
- **静音控制**：可随时开关音效

## 🎨 界面设计

### 色彩方案
- **主色调**：金色 (#FFD700)
- **背景渐变**：浅蓝→清爽蓝→阳光奶油黄
- **按钮配色**：青绿、冷蓝、粉红渐变
- **物品颜色**：黄金黄、钻石蓝、石子灰、炸弹黑

### 布局结构
- **游戏容器**：半透明白色背景，金色边框
- **游戏画布**：居中显示，带圆角边框
- **控制面板**：底部按钮区域
- **状态显示**：顶部分数、时间、关卡信息

## ⌨️ 操作方式

### 鼠标操作
- **点击画布**：发射钩子
- **点击按钮**：游戏控制

### 键盘快捷键
- **空格键**：发射钩子
- **P键**：暂停/继续游戏
- **R键**：重新开始游戏
- **M键**：静音开关

### 触摸设备
- **触摸屏幕**：发射钩子（移动设备支持）

## 🛠️ 技术实现

### 核心技术
- **HTML5 Canvas**：游戏渲染引擎
- **JavaScript ES6+**：游戏逻辑
- **CSS3**：界面样式和动画
- **Web Audio API**：音效系统

### 游戏架构
```
GoldMiningGame类
├── 游戏状态管理 (idle, playing, paused, gameOver)
├── 物理引擎 (钩子摆动、碰撞检测)
├── 物品系统 (生成、抓取、计分)
├── 音效系统 (Web Audio API)
├── UI系统 (状态显示、按钮控制)
└── 动画系统 (requestAnimationFrame)
```

### 关键算法
- **钩子摆动**：正弦函数驱动的物理动画
- **碰撞检测**：圆形碰撞检测算法
- **物品生成**：防止重叠的智能分布算法
- **难度平衡**：动态目标分数计算

## 📁 项目结构

```
Gold_Mining/
├── index.html          # 游戏主页面
├── style.css           # 样式文件
├── game.js             # 游戏核心逻辑
└── README.md           # 项目说明文档
```

## 🚀 快速开始

### 环境要求
- 现代浏览器（Chrome、Firefox、Safari、Edge）
- 支持HTML5 Canvas和Web Audio API

### 运行方式
1. 下载项目文件
2. 用浏览器打开 `index.html`
3. 点击"开始游戏"按钮开始游戏

### 开发说明
- 项目使用纯前端技术，无需后端服务
- 代码采用模块化设计，易于维护和扩展
- 支持响应式布局，适配不同屏幕尺寸

## 🎯 游戏策略

### 新手技巧
1. **优先抓取钻石**：获得时间奖励
2. **避开炸弹**：避免时间损失
3. **合理规划**：根据剩余时间调整策略
4. **观察大小**：大黄金分数更高

### 高级策略
1. **节奏控制**：掌握钩子摆动规律
2. **时间管理**：合理利用钻石奖励
3. **风险评估**：权衡高分物品和炸弹位置

## 🔧 自定义配置

游戏参数可在 `game.js` 中调整：

```javascript
// 钩子参数
this.hookLength = 40;           // 初始长度
this.maxShootLength = 450;       // 最大发射长度
this.swingFrequency = 0.8;       // 摆动频率

// 游戏参数
this.timeLeft = 60;             // 每关时间
this.targetScore = 500;         // 初始目标分数

// 音效参数
this.masterVolume = 3.2;        // 全局音量
```

## 📊 性能优化

- **游戏循环**：使用requestAnimationFrame实现流畅动画
- **内存管理**：及时清理不再使用的对象
- **渲染优化**：只重绘变化的部分
- **音效优化**：按需创建音频上下文

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进游戏！

### 待开发功能
- [ ] 更多关卡主题
- [ ] 成就系统
- [ ] 排行榜功能
- [ ] 道具系统
- [ ] 多人模式

## 📄 许可证

本项目仅供学习和娱乐使用。

## 🙏 致谢

感谢所有为这个项目提供建议和反馈的玩家！

---

**享受挖矿的乐趣吧！** 🎮⛏️✨